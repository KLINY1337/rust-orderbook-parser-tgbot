## Telegram‚Äë–±–æ—Ç –¥–ª—è –æ—Ä–¥–µ—Ä–±—É–∫–∞ Bybit

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç Telegram‚Äë–±–æ—Ç–∞ –Ω–∞ Rust, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –ø—É–±–ª–∏—á–Ω—ã–π WebSocket‚Äë–ø–æ—Ç–æ–∫ –æ—Ä–¥–µ—Ä–±—É–∫–∞ –±–∏—Ä–∂–∏ Bybit –∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–∞–∫–∞–Ω –≤ —á–∞—Ç.

–ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
- **–ü–æ–¥–ø–∏—Å–∫—É –Ω–∞ –æ–¥–∏–Ω —Ç–∏–∫–µ—Ä –≤ –∫–∞–∂–¥–æ–º —á–∞—Ç–µ**.
- **–í—ã–±–æ—Ä –≥–ª—É–±–∏–Ω—ã –æ—Ä–¥–µ—Ä–±—É–∫–∞**: `1`, `50`, `200`, `1000`.
- **–ù–∞—Å—Ç—Ä–æ–π–∫—É –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π** (–≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö).
- **–ö–Ω–æ–ø–∫—É `STOP`** –ø–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ–º –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–¥–ø–∏—Å–∫–∏.

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **–Ø–∑—ã–∫**: Rust (async/await, `tokio`)
- **Telegram**: [teloxide](https://docs.rs/teloxide/)
- **WebSocket‚Äë–∫–ª–∏–µ–Ω—Ç**: `tokio-tungstenite`
- **–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è**: `serde`, `serde_json`

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π **Rust** (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è). –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é `rustup`:

```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

- –°–æ–∑–¥–∞–Ω–Ω—ã–π Telegram‚Äë–±–æ—Ç –∏ **—Ç–æ–∫–µ–Ω** –æ—Ç [@BotFather](https://t.me/BotFather).

### 2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/<your-username>/rust-orderbook-parser-tgbot.git
cd rust-orderbook-parser-tgbot
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –∏–ª–∏ –∑–∞–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º:

```bash
export TELOXIDE_TOKEN="–í–ê–®_TELEGRAM_–ë–û–¢_–¢–û–ö–ï–ù"
```

–ù–∞ Windows (PowerShell):

```powershell
$env:TELOXIDE_TOKEN="–í–ê–®_TELEGRAM_–ë–û–¢_–¢–û–ö–ï–ù"
```

### 4. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
cargo run --release
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤ –ª–æ–≥–∞—Ö –ø–æ—è–≤–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞, –∏ –æ–Ω –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è.

---

## –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏

–ë–æ—Ç –æ–∂–∏–¥–∞–µ—Ç —Ç–µ–∫—Å—Ç –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ (–Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ):

```text
–¢–∏–∫–µ—Ä: BTCUSDT
–ò–Ω—Ç–µ—Ä–≤–∞–ª –æ—Ç–ø—Ä–∞–≤–∫–∏: 1000
–ì–ª—É–±–∏–Ω–∞: 50
```

–ì–¥–µ:
- **–¢–∏–∫–µ—Ä** ‚Äì —Å–∏–º–≤–æ–ª –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –Ω–∞ Bybit (–Ω–∞–ø—Ä–∏–º–µ—Ä, `BTCUSDT`).
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª –æ—Ç–ø—Ä–∞–≤–∫–∏** ‚Äì –ø–µ—Ä–∏–æ–¥ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ä–¥–µ—Ä–±—É–∫–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `1000` = 1 —Å–µ–∫—É–Ω–¥–∞).
- **–ì–ª—É–±–∏–Ω–∞** ‚Äì –≥–ª—É–±–∏–Ω–∞ –æ—Ä–¥–µ—Ä–±—É–∫–∞, –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: `1`, `50`, `200`, `1000`.

–ï—Å–ª–∏ —Ñ–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω, –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –∫–æ—Ä–æ—Ç–∫–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ.

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π

- –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–µ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –¥–∞–ª–µ–µ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—É–±–ª–∏–∫—É–µ—Ç –æ—Ä–¥–µ—Ä–±—É–∫.
- –ü–æ–¥ –∫–∞–∂–¥—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º —Å–æ —Å—Ç–∞–∫–∞–Ω–æ–º –ø–æ—è–≤–ª—è–µ—Ç—Å—è **–∫–Ω–æ–ø–∫–∞**:
  - `üõë STOP` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–¥–ø–∏—Å–∫—É –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —á–∞—Ç–∞.
- –í –æ–¥–Ω–æ–º —á–∞—Ç–µ –º–æ–∂–µ—Ç –±—ã—Ç—å **—Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞**. –ù–æ–≤–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â—É—é.

---

## –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–∫—Ä–∞—Ç–∫–æ)

- `OrderbookState` ‚Äî —Ö—Ä–∞–Ω–∏—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Ä–¥–µ—Ä–±—É–∫–∞, –ø—Ä–∏–º–µ–Ω—è–µ—Ç `snapshot` –∏ `delta`‚Äë–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
- `run_websocket_connection` ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç WebSocket‚Äë–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ Bybit, —Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç–∏—Ç—Å—è –ø—Ä–∏ –æ–±—Ä—ã–≤–∞—Ö, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `ping`, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã.
- `start_orderbook_stream` ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ñ–æ–Ω–æ–≤—É—é –∑–∞–¥–∞—á—É –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏: WebSocket + –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram.
- `parse_message` ‚Äî –ø–∞—Ä—Å–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–ø–∏—Å–∫–∏ (—Ç–∏–∫–µ—Ä, –∏–Ω—Ç–µ—Ä–≤–∞–ª, –≥–ª—É–±–∏–Ω–∞).
- `SubscriptionMap` ‚Äî –∞—Å—Å–æ—Ü–∏–∏—Ä—É–µ—Ç `ChatId` Telegram —Å –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–æ–π –∏ –∫–∞–Ω–∞–ª–æ–º –¥–ª—è –µ—ë –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.

---


